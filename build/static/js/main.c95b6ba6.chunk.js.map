{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleFilterChange","PersonForm","onSubmit","onSubmitName","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","person","name","toLowerCase","includes","map","key","id","number","onClick","handleDelete","Notification","message","isError","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","border","backgroundColor","baseUrl","axios","get","then","response","data","newObject","post","delete","updatedObject","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","setIsError","useEffect","personsService","initialList","window","confirm","catch","error","console","log","setTimeout","event","target","preventDefault","existingPerson","find","changedNumber","returnedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c95b6ba6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = props => {\r\n    return (\r\n    <div>\r\n        filter shown with <input value={props.filter} onChange={props.handleFilterChange}/>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = props => {\r\n    return (\r\n      <form onSubmit={props.onSubmitName}>\r\n        <div>\r\n          name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n        </div>\r\n        <div>\r\n          number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" >add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = props => {\r\n    return (\r\n        <div>\r\n            {props.persons\r\n                .filter(person => person.name.toLowerCase().includes(props.filter))\r\n                .map(person => {\r\n                    return (\r\n                        <div key={person.id}>\r\n                            {person.name} {person.number}\r\n                            <button onClick={() => props.handleDelete(person.id, person.name)}>delete</button>\r\n                        </div>\r\n                )})}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message, isError}) => {\r\n    const success = {\r\n        border: 'green solid',\r\n        color: 'green',\r\n        fontSize: 20,\r\n        padding: 10,\r\n        borderRadius: 5,\r\n        backgroundColor: 'lightgrey'\r\n    }\r\n\r\n    const fail = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (!message) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={isError ? fail : success}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteObject = id => {\r\n    return axios.delete(`http://localhost:3001/persons/${id}`)\r\n}\r\n\r\nconst update = (id, updatedObject) => {\r\n    const request = axios.put(`http://localhost:3001/persons/${id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deleteObject,\r\n    update\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Filter'\r\nimport PersonForm from './PersonForm'\r\nimport Persons from './Persons'\r\nimport Notification from './Notification'\r\nimport personsService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ notification, setNotification] = useState(null)\r\n  const [ isError, setIsError ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(initialList => setPersons(initialList))\r\n  },[])\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const onSubmitName = event => {\r\n    event.preventDefault();\r\n    const existingPerson = persons.find(person => person.name === newName)\r\n    if (existingPerson) {\r\n        const allowUpdate = window.confirm(`${newName} is already added to the phonebook. Replace the old number with a new one?`)\r\n        if (allowUpdate) {\r\n          const changedNumber = {...existingPerson, number: newNumber}\r\n          personsService\r\n            .update(existingPerson.id, changedNumber)\r\n            .then(returnedPerson => {\r\n              setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\r\n              setNotification(`${existingPerson.name} was succesfully updated.`)\r\n              setTimeout(() => {\r\n                setNotification(null)\r\n              }, 5000)\r\n            })\r\n          setNewName('')\r\n          setNewNumber('')\r\n        }\r\n    } else {\r\n        const newPerson = {name: newName, number: newNumber}\r\n        personsService\r\n             .create(newPerson)\r\n             .then(returnedPerson => {\r\n              setPersons([...persons, returnedPerson])\r\n              setNotification(`${newName} was succesfully added.`)\r\n              setTimeout(() => {\r\n                setNotification(null)\r\n              }, 5000)\r\n             })\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = event => {\r\n    setFilter(event.target.value.toLowerCase())\r\n  }\r\n\r\n  const handleDelete = (id, name) => {\r\n    const allowDelete = window.confirm(`Delete ${name}`)\r\n    if (allowDelete) {\r\n      personsService\r\n           .deleteObject(id)\r\n           .then(() => setPersons(persons.filter(person => person.id !== id)))\r\n           .catch(error => {\r\n            console.log('Error: ', error)\r\n            setIsError(true)\r\n            setNotification(`Information of ${name} has already been removed from the server.`)\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n              setIsError(false)\r\n            }, 5000)\r\n           })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} isError={isError}/>\r\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\r\n      <h3>add a new</h3>\r\n      <PersonForm \r\n        onSubmitName={onSubmitName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n        handleDelete={handleDelete}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons \r\n        persons={persons} \r\n        handleDelete={handleDelete} \r\n        filter={filter}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}